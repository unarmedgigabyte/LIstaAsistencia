<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Generador de QR - Lista de Asistencia</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Generador de QR de ReuniÃ³n</h1>
<label>DuraciÃ³n del QR (minutos):</label>
<input type="number" id="qrDuracion" value="15" min="1" max="120">
<button id="generarQR">Generar QR</button>
<div id="qr"></div>

<script src="qrcode.min.js"></script>
<script>
    document.getElementById("generarQR").addEventListener("click", () => {
        const duracion = parseInt(document.getElementById("qrDuracion").value);
        const sessionId = "session_" + Date.now();
        const exp = Math.floor(Date.now()/1000) + duracion*60;

        // ðŸ”¹ URL pÃºblica de tu app en Vercel
        const hostingURL = "https://l-ista-asistencia.vercel.app";
        const urlQR = `${hostingURL}/asistencia.html?sessionId=${sessionId}&exp=${exp}`;

        document.getElementById("qr").innerHTML = "";
        new QRCode(document.getElementById("qr"), {
            text: urlQR,
            width: 200,
            height: 200
        });

        alert(`âœ… QR generado con vigencia de ${duracion} minutos.`);
    });
</script>
</body>
</html>
